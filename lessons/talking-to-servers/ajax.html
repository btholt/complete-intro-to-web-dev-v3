<!DOCTYPE html><html><head><meta name="viewport" content="width=device-width"/><meta charSet="utf-8"/><link rel="apple-touch-icon" sizes="180x180" href="/complete-intro-to-web-dev-v3/images/apple-touch-icon.png"/><link rel="icon" type="image/png" sizes="32x32" href="/complete-intro-to-web-dev-v3/images/favicon-32x32.png"/><link rel="icon" type="image/png" sizes="16x16" href="/complete-intro-to-web-dev-v3/images/favicon-16x16.png"/><link rel="icon" type="image/png" sizes="16x16" href="/complete-intro-to-web-dev-v3/images/favicon-16x16.png"/><link rel="icon" type="image/x-icon" href="/complete-intro-to-web-dev-v3/images/favicon.ico"/><title>AJAX – Complete Intro to Web Dev v3</title><meta name="description" content="Learn to be a web developer from nothing from industry veteran Brian Holt"/><meta name="keywords" content="web dev,web developer,css,javascript,html,visual studio code,learn to code"/><meta name="og:description" content="Learn to be a web developer from nothing from industry veteran Brian Holt"/><meta name="og:title" content="AJAX – Complete Intro to Web Dev v3"/><meta name="og:image" content="/complete-intro-to-web-dev-v3/images/social-share-cover.jpg"/><meta name="twitter:card" content="summary_large_image"/><meta name="next-head-count" content="14"/><link rel="preload" href="/complete-intro-to-web-dev-v3/_next/static/css/1a2746bf133d96ef.css" as="style"/><link rel="stylesheet" href="/complete-intro-to-web-dev-v3/_next/static/css/1a2746bf133d96ef.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/complete-intro-to-web-dev-v3/_next/static/chunks/polyfills-5cd94c89d3acac5f.js"></script><script src="/complete-intro-to-web-dev-v3/js/klipse/klipse_plugin.min.js" defer="" data-nscript="beforeInteractive"></script><script src="/complete-intro-to-web-dev-v3/_next/static/chunks/webpack-edeb1d7d7be94116.js" defer=""></script><script src="/complete-intro-to-web-dev-v3/_next/static/chunks/framework-fc97f3f1282ce3ed.js" defer=""></script><script src="/complete-intro-to-web-dev-v3/_next/static/chunks/main-b3aebd0b68d86dfc.js" defer=""></script><script src="/complete-intro-to-web-dev-v3/_next/static/chunks/pages/_app-225e228fe79f7e68.js" defer=""></script><script src="/complete-intro-to-web-dev-v3/_next/static/chunks/422-97d050c6a559f504.js" defer=""></script><script src="/complete-intro-to-web-dev-v3/_next/static/chunks/pages/lessons/%5Bsection%5D/%5Bslug%5D-d583dda6000f6856.js" defer=""></script><script src="/complete-intro-to-web-dev-v3/_next/static/-rnsL7_TPNP5T-jiZBSmW/_buildManifest.js" defer=""></script><script src="/complete-intro-to-web-dev-v3/_next/static/-rnsL7_TPNP5T-jiZBSmW/_ssgManifest.js" defer=""></script><script src="/complete-intro-to-web-dev-v3/_next/static/-rnsL7_TPNP5T-jiZBSmW/_middlewareManifest.js" defer=""></script></head><body><div id="__next"><div class="course-app"><header class="navbar"><h1 class="navbar-brand"><a href="/complete-intro-to-web-dev-v3">Complete Intro to Web Dev v3</a></h1><div class="navbar-info"><a href="https://frontendmasters.com/courses/web-development-v3/" class="cta-btn">Watch on Frontend Masters</a></div></header><div class="content-container"><div class="main"><div class="lesson-container"><div class="lesson"><div class="lesson-content"><p>What is an API? An application programming interface is a URL that you can make requests to get information back from. It&#39;s like website but only for machines. It&#39;s a method that one computer can request information from another.</p>
<blockquote>
<p>Note that API is also used to describe how something is used. If I wrote a dog object in JavaScript and gave it two methods: <code>eat()</code> and <code>bark()</code>, you could call those two methods its &quot;API&quot;. A similar but slightly different meaning for the word. I just point that out because it can be confusing. For the rest of this course, we&#39;re talking about endpoints that we can call to get data from.</p>
</blockquote>
<p>Now that we speak the language of APIs, let&#39;s dive into making some server requests. Let&#39;s walk through the hypothetical process.</p>
<p>Let&#39;s say you&#39;re making a weather page where the user enters their zip code and gets back their forecast for the day.</p>
<ol>
<li>The user navigates to your page and the page loads.</li>
<li>The user types <code>98109</code> into the search bar and hits enter</li>
<li>Your app makes a request to <code>api.example.com/weather?zip=98109</code></li>
<li>The API response <code>{ &quot;temperature&quot;: 75, units: &quot;F&quot; }</code></li>
<li>Your app decodes the string to an object using <code>JSON.parse</code></li>
<li>Your app updates the page to say &quot;The current weather is 75ºF&quot;</li>
</ol>
<p>So let&#39;s dive into a few things:</p>
<ul>
<li>Who is makes the API? It depends. It could be you; your frontend could be requesting against a server you yourself wrote (a topic for a different class.) Or it could be against a myriad of public and free APIs. Or it could be a service you pay for.</li>
<li><a href="https://github.com/toddmotto/public-apis">Check out these publically available APIs</a>. <a href="https://dog.ceo/dog-api/">dog.ceo</a> is a favorite of mine.</li>
<li>In our case, we&#39;re going to make requests an API that Frontend Masters maintains for us. <a href="http://pets-v2.dev-apis.com/pets">See here</a> to see an example request.</li>
<li>Whats is the <code>?zip=98109</code> part of the request. This is called a query string. It allows us to send parameters to a request (like sending parameters to a function) that it can use. In that case, we&#39;re sending the zip code we want the weather for. If you want multiple queries, they are separated by an <code>&amp;</code> e.g. <code>example.com/weather?zip=98109&amp;day=tomorrow</code>.</li>
<li>What variables you send via querystring will be determined by the API.</li>
</ul>
<p>Okay, so let&#39;s make our first request to the dog API. I&#39;m going to be attaching this to a button so we don&#39;t hammer our poor friend&#39;s APIs. Running these APIs isn&#39;t free.</p>
<blockquote>
<p>I don&#39;t take responsibility for what images this gives back. They should all just be cute pups.</p>
</blockquote>
<pre><code class="hljs language-display-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog-btn&quot;</span>&gt;</span>Gimme Doggo<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog-target&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><button id="dog-btn">Gimme Doggo</button></p>
<div id="dog-target"></div>

<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DOG_URL</span> = <span class="hljs-string">&quot;https://dog.ceo/api/breeds/image/random&quot;</span>;

<span class="hljs-keyword">const</span> doggos = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;dog-target&quot;</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">addNewDoggo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> promise = <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">DOG_URL</span>);
  promise
    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) {
      <span class="hljs-keyword">const</span> processingPromise = response.<span class="hljs-title function_">text</span>();
      <span class="hljs-keyword">return</span> processingPromise;
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">processedResponse</span>) {
      <span class="hljs-keyword">const</span> dogObject = <span class="hljs-title class_">JSON</span>.<span class="hljs-title function_">parse</span>(processedResponse);
      <span class="hljs-keyword">const</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;img&quot;</span>);
      img.<span class="hljs-property">src</span> = dogObject.<span class="hljs-property">message</span>;
      img.<span class="hljs-property">alt</span> = <span class="hljs-string">&quot;Cute doggo&quot;</span>;
      doggos.<span class="hljs-title function_">appendChild</span>(img);
    });
}

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;dog-btn&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, addNewDoggo);
</code></pre>
<p>Let&#39;s dissect this.</p>
<p>Requests take time. The process of calling out to the Internet, reaching the server, the server processing, responding, and coming back takes time. It could be very fast. It could be a minute. You don&#39;t know until it happens. You need to have the ability to <em>wait</em> in your code. This is called async code, the A in AJAX.</p>
<p>JavaScript has several ways of dealing with this. We&#39;re using a way called promises. A promise represents a future value. With a promise, you can give it a function with its <code>then</code> function to run whenever it gets its ansewr back. In this case, we say &quot;hey, you&#39;re going to get some text back from this API, so we need that text.</p>
<p><code>fetch</code> is a function (builtin for the browser) that allows you to give it a URL like <code>https://dog.ceo/api/breeds/image/random</code> and it will try to get information from that API. In this case we&#39;re asking for a random image of a dog.</p>
<p><code>fetch</code> gives you back a promise. Then we need to tell it what we think the API is going to send us back. In our case we&#39;re saying it&#39;s going to be <code>text()</code> from the API. There are others (and I&#39;ll show you one in a sec.)</p>
<p>You can do what&#39;s called <strong>promise chaining</strong>. This allows you to do one async action after another. In our case, we don&#39;t know how long it will take to transform our response into text (it&#39;s basically instant and usually is but it could not be). In any case, by <strong>returning the promise</strong> at the end of the first <code>then</code>, we then can use its data in the second <code>then</code>. That&#39;s why that&#39;s weird that way.</p>
<p>In the second <code>then</code> we read the <code>message</code> which has the URL, we create an <code>img</code> tag, and append it to the DOM. The result is we get a cool dog pic!</p>
<p>Okay, let&#39;s tweak it minorly.</p>
<pre><code class="hljs language-display-html"><span class="hljs-tag">&lt;<span class="hljs-name">button</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog-btn&quot;</span>&gt;</span>Gimme Doggo<span class="hljs-tag">&lt;/<span class="hljs-name">button</span>&gt;</span>
<span class="hljs-tag">&lt;<span class="hljs-name">div</span> <span class="hljs-attr">id</span>=<span class="hljs-string">&quot;dog-target&quot;</span>&gt;</span><span class="hljs-tag">&lt;/<span class="hljs-name">div</span>&gt;</span>
</code></pre>
<p><button id="dog-btn2">Gimme Doggo</button></p>
<div id="dog-target2"></div>

<pre><code class="hljs language-javascript"><span class="hljs-keyword">const</span> <span class="hljs-variable constant_">DOG_URL</span> = <span class="hljs-string">&quot;https://dog.ceo/api/breeds/image/random&quot;</span>;

<span class="hljs-keyword">const</span> doggos = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;dog-target2&quot;</span>);

<span class="hljs-keyword">function</span> <span class="hljs-title function_">addNewDoggo</span>(<span class="hljs-params"></span>) {
  <span class="hljs-keyword">const</span> promise = <span class="hljs-title function_">fetch</span>(<span class="hljs-variable constant_">DOG_URL</span>);
  promise
    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">response</span>) {
      <span class="hljs-keyword">const</span> processingPromise = response.<span class="hljs-title function_">json</span>(); <span class="hljs-comment">// json instead of text</span>
      <span class="hljs-keyword">return</span> processingPromise;
    })
    .<span class="hljs-title function_">then</span>(<span class="hljs-keyword">function</span> (<span class="hljs-params">processedResponse</span>) {
      <span class="hljs-comment">// we get to skip this line since it&#x27;ll already be an object</span>
      <span class="hljs-comment">// const dogObject = JSON.parse(processedResponse);</span>

      <span class="hljs-keyword">const</span> img = <span class="hljs-variable language_">document</span>.<span class="hljs-title function_">createElement</span>(<span class="hljs-string">&quot;img&quot;</span>);
      img.<span class="hljs-property">src</span> = processedResponse.<span class="hljs-property">message</span>;
      img.<span class="hljs-property">alt</span> = <span class="hljs-string">&quot;Cute doggo&quot;</span>;
      doggos.<span class="hljs-title function_">appendChild</span>(img);
    });
}

<span class="hljs-variable language_">document</span>.<span class="hljs-title function_">getElementById</span>(<span class="hljs-string">&quot;dog-btn2&quot;</span>).<span class="hljs-title function_">addEventListener</span>(<span class="hljs-string">&quot;click&quot;</span>, addNewDoggo);
</code></pre>
<p>A slight difference, but if we know we&#39;re going to get JSON back from the API, fetch can do the parsing directly for you with the <code>json()</code> function.</p>
</div><div class="lesson-links"><a href="/complete-intro-to-web-dev-v3/lessons/talking-to-servers/json" class="prev">← Previous</a><a href="/complete-intro-to-web-dev-v3/lessons/talking-to-servers/async-await" class="next">Next →</a></div></div><div class="details-bg"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="154" height="154" viewBox="0 0 154 154"><defs><clipPath id="clip-path"><rect id="Rectangle_2238" data-name="Rectangle 2238" width="154" height="154" transform="translate(9467 350)" fill="#fff" stroke="#707070" stroke-width="1"></rect></clipPath><clipPath id="clip-corner-image-active"><rect width="154" height="154"></rect></clipPath></defs><g id="corner-image-active" clip-path="url(#clip-corner-image-active)"><g id="Corner-image-active-2" data-name="Corner-image-active" transform="translate(-9467 -350)" clip-path="url(#clip-path)"><path id="Subtraction_34" data-name="Subtraction 34" d="M-3857.365,1740.766h0l-7.07-7.07,12.89-12.89v14.142l-5.818,5.818Zm-14.142-14.142h0l-7.071-7.07,27.033-27.033v14.143l-19.96,19.96Zm-14.143-14.143h0l-7.07-7.069,41.175-41.175v14.142Zm-14.142-14.142h0l-7.07-7.069,55.317-55.317v14.142Zm-14.142-14.142h0l-7.07-7.069,69.459-69.459v14.142Zm-14.142-14.142h0l-7.07-7.069,76.739-76.739h6.862v7.28Zm-14.143-14.143h0l-7.07-7.069,62.6-62.6h14.142Zm-14.142-14.142h0l-7.07-7.069,48.454-48.454h14.142Zm-14.142-14.142h0l-7.07-7.069,34.312-34.312h14.142Zm-14.142-14.142h0l-7.07-7.069,20.17-20.17h14.142Zm-14.142-14.142h0l-7.071-7.071,6.027-6.027h14.144l-13.1,13.1Zm367.24-56.114v-.909l.455.455-.453.453Z" transform="translate(13472.546 -1236.766)" fill="var(--corner-fill)"></path></g></g></svg></div></div><h3 class="tweet-head">loading …</h3></div></div><footer class="footer"><ul class="socials"><li class="social"><a href="https://twitter.com/holtbt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="40" height="32" viewBox="0 0 40 32"><defs><clipPath id="clip-twitter-social"><rect width="40" height="32"></rect></clipPath></defs><g id="twitter-social" clip-path="url(#clip-twitter-social)"><g id="Group_269" data-name="Group 269" transform="translate(-230.23 -1140.849)"><path id="Path_419" data-name="Path 419" d="M266.12,1148.861v1.035a23.092,23.092,0,0,1-1.507,8.1,24.08,24.08,0,0,1-4.475,7.381,22.175,22.175,0,0,1-7.306,5.4,24.129,24.129,0,0,1-10,2.07,23.7,23.7,0,0,1-6.667-.945,22.83,22.83,0,0,1-5.936-2.655q.959.091,1.963.09a16.518,16.518,0,0,0,5.434-.9,17.111,17.111,0,0,0,4.749-2.52,8.275,8.275,0,0,1-4.749-1.643,7.8,7.8,0,0,1-2.877-3.983,8.268,8.268,0,0,0,1.507.135,8.58,8.58,0,0,0,2.146-.27,8.16,8.16,0,0,1-5.685-4.344,8.326,8.326,0,0,1-.89-3.578v-.135a7.775,7.775,0,0,0,3.744,1.035,8.183,8.183,0,0,1-2.671-2.9,7.817,7.817,0,0,1-.982-3.848,7.948,7.948,0,0,1,1.1-4.05,23.53,23.53,0,0,0,16.895,8.46,9.221,9.221,0,0,1-.183-1.845,7.787,7.787,0,0,1,1.1-4.05,8.216,8.216,0,0,1,2.991-2.948,7.991,7.991,0,0,1,4.087-1.1,8.184,8.184,0,0,1,5.982,2.566,16.087,16.087,0,0,0,5.205-1.98,7.784,7.784,0,0,1-1.393,2.588,8.4,8.4,0,0,1-2.215,1.913,16.856,16.856,0,0,0,4.749-1.305A17.032,17.032,0,0,1,266.12,1148.861Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><a href="https://github.com/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-github-social"><rect width="32" height="32"></rect></clipPath></defs><g id="github-social" clip-path="url(#clip-github-social)"><g id="Group_272" data-name="Group 272" transform="translate(13522.5 -6994)"><path id="Subtraction_33" data-name="Subtraction 33" d="M-24967.5,8041a15.9,15.9,0,0,1-11.312-4.688A15.893,15.893,0,0,1-24983.5,8025a15.893,15.893,0,0,1,4.689-11.315A15.894,15.894,0,0,1-24967.5,8009a15.894,15.894,0,0,1,11.313,4.686A15.893,15.893,0,0,1-24951.5,8025a15.893,15.893,0,0,1-4.689,11.313A15.9,15.9,0,0,1-24967.5,8041Zm-3.781-4.571h0v3.918h7.895v-6.665a1.836,1.836,0,0,0-1.2-1.718c5.1-.617,7.467-2.975,7.467-7.424a7.176,7.176,0,0,0-1.637-4.728,6.74,6.74,0,0,0,.275-1.812,4.34,4.34,0,0,0-.52-2.452.574.574,0,0,0-.359-.1c-1.061,0-3.465,1.411-3.936,1.694a16.644,16.644,0,0,0-4.2-.489,16.379,16.379,0,0,0-3.969.445c-.846-.5-2.91-1.649-3.859-1.649a.566.566,0,0,0-.354.095,4.3,4.3,0,0,0-.521,2.452,6.7,6.7,0,0,0,.244,1.718,7.346,7.346,0,0,0-1.6,4.822,7.263,7.263,0,0,0,1.533,4.985c1.193,1.359,3.115,2.165,5.871,2.464a1.826,1.826,0,0,0-1.129,1.693v.5h0l-.006,0a7.121,7.121,0,0,1-2.033.363,2.608,2.608,0,0,1-.965-.158,4.438,4.438,0,0,1-1.836-1.881,2.361,2.361,0,0,0-1.248-1.091,3.472,3.472,0,0,0-1.217-.3.584.584,0,0,0-.545.224.282.282,0,0,0,.027.367,1.875,1.875,0,0,0,.447.307,4.732,4.732,0,0,1,.561.355,10.726,10.726,0,0,1,1.682,2.755c.043.092.078.163.105.217a3.876,3.876,0,0,0,2.42,1.185,6.036,6.036,0,0,0,.607.025c.875,0,1.988-.124,2-.125Z" transform="translate(11461 -1015)" fill="var(--footer-icons)"></path><g id="Ellipse_670" data-name="Ellipse 670" transform="translate(-13522.5 6994)" fill="none" stroke="var(--icons)" stroke-width="1"><circle cx="16" cy="16" r="16" stroke="none"></circle><circle cx="16" cy="16" r="15.5" fill="none"></circle></g></g></g></svg></a></li><li class="social"><a href="https://linkedin.com/in/btholt"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="32" height="32" viewBox="0 0 32 32"><defs><clipPath id="clip-linkedin-social"><rect width="32" height="32"></rect></clipPath></defs><g id="linkedin-social" clip-path="url(#clip-linkedin-social)"><g id="Group_270" data-name="Group 270" transform="translate(-86.349 -633.073)"><path id="Path_375" data-name="Path 375" d="M115.789,633.073a2.324,2.324,0,0,1,1.682.676,2.194,2.194,0,0,1,.695,1.627V662.8a2.131,2.131,0,0,1-.695,1.609,2.314,2.314,0,0,1-1.646.659H88.69a2.307,2.307,0,0,1-1.646-.659,2.128,2.128,0,0,1-.695-1.609V635.376a2.19,2.19,0,0,1,.695-1.627,2.322,2.322,0,0,1,1.682-.676h27.063Zm-20.224,9.672a2.561,2.561,0,0,0,0-3.584,2.658,2.658,0,0,0-1.938-.712,2.724,2.724,0,0,0-1.957.712,2.371,2.371,0,0,0-.75,1.792,2.4,2.4,0,0,0,.731,1.792,2.605,2.605,0,0,0,1.9.713h.037A2.7,2.7,0,0,0,95.565,642.745ZM96,645.434H91.213V659.88H96Zm17.3,6.144a7.007,7.007,0,0,0-1.573-4.9,5.68,5.68,0,0,0-6.839-.769,5.663,5.663,0,0,0-1.426,1.573v-2.048H98.674q.036.841,0,7.717v6.728h4.791V651.8a3.592,3.592,0,0,1,.146-1.17,2.913,2.913,0,0,1,.878-1.206,2.429,2.429,0,0,1,1.609-.549,2.108,2.108,0,0,1,1.865.914,4.265,4.265,0,0,1,.549,2.341v7.752H113.3Z" fill="var(--footer-icons)"></path></g></g></svg></a></li><li class="social"><div class="terms"><p>Content Licensed Under CC-BY-NC-4.0</p><p>Code Samples and Excercises Licensed Under Apache 2.0</p><p>Site Designed by<!-- --> <!-- --><a href="https://www.alexdanielson.com/">Alex Danielson</a></p></div></li></ul></footer></div><script async="" defer="" src="https://a.holt.courses/latest.js" data-hostname="web-dev-v3.holt.courses"></script><noscript><img src="https://a.holt.courses/noscript.gif?hostname=web-dev-v3.holt.courses" alt="" referrerPolicy="no-referrer-when-downgrade"/></noscript></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"attributes":{"description":"","title":"AJAX"},"html":"\u003cp\u003eWhat is an API? An application programming interface is a URL that you can make requests to get information back from. It\u0026#39;s like website but only for machines. It\u0026#39;s a method that one computer can request information from another.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eNote that API is also used to describe how something is used. If I wrote a dog object in JavaScript and gave it two methods: \u003ccode\u003eeat()\u003c/code\u003e and \u003ccode\u003ebark()\u003c/code\u003e, you could call those two methods its \u0026quot;API\u0026quot;. A similar but slightly different meaning for the word. I just point that out because it can be confusing. For the rest of this course, we\u0026#39;re talking about endpoints that we can call to get data from.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003eNow that we speak the language of APIs, let\u0026#39;s dive into making some server requests. Let\u0026#39;s walk through the hypothetical process.\u003c/p\u003e\n\u003cp\u003eLet\u0026#39;s say you\u0026#39;re making a weather page where the user enters their zip code and gets back their forecast for the day.\u003c/p\u003e\n\u003col\u003e\n\u003cli\u003eThe user navigates to your page and the page loads.\u003c/li\u003e\n\u003cli\u003eThe user types \u003ccode\u003e98109\u003c/code\u003e into the search bar and hits enter\u003c/li\u003e\n\u003cli\u003eYour app makes a request to \u003ccode\u003eapi.example.com/weather?zip=98109\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eThe API response \u003ccode\u003e{ \u0026quot;temperature\u0026quot;: 75, units: \u0026quot;F\u0026quot; }\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eYour app decodes the string to an object using \u003ccode\u003eJSON.parse\u003c/code\u003e\u003c/li\u003e\n\u003cli\u003eYour app updates the page to say \u0026quot;The current weather is 75ºF\u0026quot;\u003c/li\u003e\n\u003c/ol\u003e\n\u003cp\u003eSo let\u0026#39;s dive into a few things:\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003eWho is makes the API? It depends. It could be you; your frontend could be requesting against a server you yourself wrote (a topic for a different class.) Or it could be against a myriad of public and free APIs. Or it could be a service you pay for.\u003c/li\u003e\n\u003cli\u003e\u003ca href=\"https://github.com/toddmotto/public-apis\"\u003eCheck out these publically available APIs\u003c/a\u003e. \u003ca href=\"https://dog.ceo/dog-api/\"\u003edog.ceo\u003c/a\u003e is a favorite of mine.\u003c/li\u003e\n\u003cli\u003eIn our case, we\u0026#39;re going to make requests an API that Frontend Masters maintains for us. \u003ca href=\"http://pets-v2.dev-apis.com/pets\"\u003eSee here\u003c/a\u003e to see an example request.\u003c/li\u003e\n\u003cli\u003eWhats is the \u003ccode\u003e?zip=98109\u003c/code\u003e part of the request. This is called a query string. It allows us to send parameters to a request (like sending parameters to a function) that it can use. In that case, we\u0026#39;re sending the zip code we want the weather for. If you want multiple queries, they are separated by an \u003ccode\u003e\u0026amp;\u003c/code\u003e e.g. \u003ccode\u003eexample.com/weather?zip=98109\u0026amp;day=tomorrow\u003c/code\u003e.\u003c/li\u003e\n\u003cli\u003eWhat variables you send via querystring will be determined by the API.\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003eOkay, so let\u0026#39;s make our first request to the dog API. I\u0026#39;m going to be attaching this to a button so we don\u0026#39;t hammer our poor friend\u0026#39;s APIs. Running these APIs isn\u0026#39;t free.\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003eI don\u0026#39;t take responsibility for what images this gives back. They should all just be cute pups.\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-display-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;dog-btn\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eGimme Doggo\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;dog-target\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cbutton id=\"dog-btn\"\u003eGimme Doggo\u003c/button\u003e\u003c/p\u003e\n\u003cdiv id=\"dog-target\"\u003e\u003c/div\u003e\n\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eDOG_URL\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;https://dog.ceo/api/breeds/image/random\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e doggos = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;dog-target\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eaddNewDoggo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e promise = \u003cspan class=\"hljs-title function_\"\u003efetch\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eDOG_URL\u003c/span\u003e);\n  promise\n    .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eresponse\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e processingPromise = response.\u003cspan class=\"hljs-title function_\"\u003etext\u003c/span\u003e();\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e processingPromise;\n    })\n    .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eprocessedResponse\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e dogObject = \u003cspan class=\"hljs-title class_\"\u003eJSON\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003eparse\u003c/span\u003e(processedResponse);\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e img = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;img\u0026quot;\u003c/span\u003e);\n      img.\u003cspan class=\"hljs-property\"\u003esrc\u003c/span\u003e = dogObject.\u003cspan class=\"hljs-property\"\u003emessage\u003c/span\u003e;\n      img.\u003cspan class=\"hljs-property\"\u003ealt\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Cute doggo\u0026quot;\u003c/span\u003e;\n      doggos.\u003cspan class=\"hljs-title function_\"\u003eappendChild\u003c/span\u003e(img);\n    });\n}\n\n\u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;dog-btn\u0026quot;\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;click\u0026quot;\u003c/span\u003e, addNewDoggo);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eLet\u0026#39;s dissect this.\u003c/p\u003e\n\u003cp\u003eRequests take time. The process of calling out to the Internet, reaching the server, the server processing, responding, and coming back takes time. It could be very fast. It could be a minute. You don\u0026#39;t know until it happens. You need to have the ability to \u003cem\u003ewait\u003c/em\u003e in your code. This is called async code, the A in AJAX.\u003c/p\u003e\n\u003cp\u003eJavaScript has several ways of dealing with this. We\u0026#39;re using a way called promises. A promise represents a future value. With a promise, you can give it a function with its \u003ccode\u003ethen\u003c/code\u003e function to run whenever it gets its ansewr back. In this case, we say \u0026quot;hey, you\u0026#39;re going to get some text back from this API, so we need that text.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003efetch\u003c/code\u003e is a function (builtin for the browser) that allows you to give it a URL like \u003ccode\u003ehttps://dog.ceo/api/breeds/image/random\u003c/code\u003e and it will try to get information from that API. In this case we\u0026#39;re asking for a random image of a dog.\u003c/p\u003e\n\u003cp\u003e\u003ccode\u003efetch\u003c/code\u003e gives you back a promise. Then we need to tell it what we think the API is going to send us back. In our case we\u0026#39;re saying it\u0026#39;s going to be \u003ccode\u003etext()\u003c/code\u003e from the API. There are others (and I\u0026#39;ll show you one in a sec.)\u003c/p\u003e\n\u003cp\u003eYou can do what\u0026#39;s called \u003cstrong\u003epromise chaining\u003c/strong\u003e. This allows you to do one async action after another. In our case, we don\u0026#39;t know how long it will take to transform our response into text (it\u0026#39;s basically instant and usually is but it could not be). In any case, by \u003cstrong\u003ereturning the promise\u003c/strong\u003e at the end of the first \u003ccode\u003ethen\u003c/code\u003e, we then can use its data in the second \u003ccode\u003ethen\u003c/code\u003e. That\u0026#39;s why that\u0026#39;s weird that way.\u003c/p\u003e\n\u003cp\u003eIn the second \u003ccode\u003ethen\u003c/code\u003e we read the \u003ccode\u003emessage\u003c/code\u003e which has the URL, we create an \u003ccode\u003eimg\u003c/code\u003e tag, and append it to the DOM. The result is we get a cool dog pic!\u003c/p\u003e\n\u003cp\u003eOkay, let\u0026#39;s tweak it minorly.\u003c/p\u003e\n\u003cpre\u003e\u003ccode class=\"hljs language-display-html\"\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;dog-btn\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003eGimme Doggo\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ebutton\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003cspan class=\"hljs-tag\"\u003e\u0026lt;\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e \u003cspan class=\"hljs-attr\"\u003eid\u003c/span\u003e=\u003cspan class=\"hljs-string\"\u003e\u0026quot;dog-target\u0026quot;\u003c/span\u003e\u0026gt;\u003c/span\u003e\u003cspan class=\"hljs-tag\"\u003e\u0026lt;/\u003cspan class=\"hljs-name\"\u003ediv\u003c/span\u003e\u0026gt;\u003c/span\u003e\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003e\u003cbutton id=\"dog-btn2\"\u003eGimme Doggo\u003c/button\u003e\u003c/p\u003e\n\u003cdiv id=\"dog-target2\"\u003e\u003c/div\u003e\n\n\u003cpre\u003e\u003ccode class=\"hljs language-javascript\"\u003e\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e \u003cspan class=\"hljs-variable constant_\"\u003eDOG_URL\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;https://dog.ceo/api/breeds/image/random\u0026quot;\u003c/span\u003e;\n\n\u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e doggos = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;dog-target2\u0026quot;\u003c/span\u003e);\n\n\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e \u003cspan class=\"hljs-title function_\"\u003eaddNewDoggo\u003c/span\u003e(\u003cspan class=\"hljs-params\"\u003e\u003c/span\u003e) {\n  \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e promise = \u003cspan class=\"hljs-title function_\"\u003efetch\u003c/span\u003e(\u003cspan class=\"hljs-variable constant_\"\u003eDOG_URL\u003c/span\u003e);\n  promise\n    .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eresponse\u003c/span\u003e) {\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e processingPromise = response.\u003cspan class=\"hljs-title function_\"\u003ejson\u003c/span\u003e(); \u003cspan class=\"hljs-comment\"\u003e// json instead of text\u003c/span\u003e\n      \u003cspan class=\"hljs-keyword\"\u003ereturn\u003c/span\u003e processingPromise;\n    })\n    .\u003cspan class=\"hljs-title function_\"\u003ethen\u003c/span\u003e(\u003cspan class=\"hljs-keyword\"\u003efunction\u003c/span\u003e (\u003cspan class=\"hljs-params\"\u003eprocessedResponse\u003c/span\u003e) {\n      \u003cspan class=\"hljs-comment\"\u003e// we get to skip this line since it\u0026#x27;ll already be an object\u003c/span\u003e\n      \u003cspan class=\"hljs-comment\"\u003e// const dogObject = JSON.parse(processedResponse);\u003c/span\u003e\n\n      \u003cspan class=\"hljs-keyword\"\u003econst\u003c/span\u003e img = \u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003ecreateElement\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;img\u0026quot;\u003c/span\u003e);\n      img.\u003cspan class=\"hljs-property\"\u003esrc\u003c/span\u003e = processedResponse.\u003cspan class=\"hljs-property\"\u003emessage\u003c/span\u003e;\n      img.\u003cspan class=\"hljs-property\"\u003ealt\u003c/span\u003e = \u003cspan class=\"hljs-string\"\u003e\u0026quot;Cute doggo\u0026quot;\u003c/span\u003e;\n      doggos.\u003cspan class=\"hljs-title function_\"\u003eappendChild\u003c/span\u003e(img);\n    });\n}\n\n\u003cspan class=\"hljs-variable language_\"\u003edocument\u003c/span\u003e.\u003cspan class=\"hljs-title function_\"\u003egetElementById\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;dog-btn2\u0026quot;\u003c/span\u003e).\u003cspan class=\"hljs-title function_\"\u003eaddEventListener\u003c/span\u003e(\u003cspan class=\"hljs-string\"\u003e\u0026quot;click\u0026quot;\u003c/span\u003e, addNewDoggo);\n\u003c/code\u003e\u003c/pre\u003e\n\u003cp\u003eA slight difference, but if we know we\u0026#39;re going to get JSON back from the API, fetch can do the parsing directly for you with the \u003ccode\u003ejson()\u003c/code\u003e function.\u003c/p\u003e\n","slug":"ajax","title":"AJAX","section":"Talking to Servers","icon":"code-compare","filePath":"/home/runner/work/complete-intro-to-web-dev-v3/complete-intro-to-web-dev-v3/lessons/06-talking-to-servers/B-ajax.md","nextSlug":"/complete-intro-to-web-dev-v3/lessons/talking-to-servers/async-await","prevSlug":"/complete-intro-to-web-dev-v3/lessons/talking-to-servers/json"}},"__N_SSG":true},"page":"/lessons/[section]/[slug]","query":{"section":"talking-to-servers","slug":"ajax"},"buildId":"-rnsL7_TPNP5T-jiZBSmW","assetPrefix":"/complete-intro-to-web-dev-v3","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>